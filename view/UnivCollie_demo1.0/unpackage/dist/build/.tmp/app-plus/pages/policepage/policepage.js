(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/policepage/policepage"],{"13e4":function(t,e,o){"use strict";o.r(e);var n=o("e7d0"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,function(){return n[t]})}(a);e["default"]=i.a},"7d03":function(t,e,o){},"90f1":function(t,e,o){"use strict";var n=o("7d03"),i=o.n(n);i.a},d065:function(t,e,o){"use strict";o.r(e);var n=o("d3ec"),i=o("13e4");for(var a in i)"default"!==a&&function(t){o.d(e,t,function(){return i[t]})}(a);o("90f1");var c=o("2877"),u=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports},d3ec:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"box"},[o("view",{staticClass:"broadcast"},[t._v("您的当前位置，下拉刷新重新定位")]),o("image",{staticClass:"background-img",attrs:{src:"../../static/mediclpage/bg1.jpg"}}),o("map",{staticClass:"map1",attrs:{id:"polmap",latitude:t.latitude,longitude:t.longitude,markers:t.covers,"show-location":!0}}),o("image",{staticClass:"button1",attrs:{src:"../../static/policpage/button1.png",id:"b1",eventid:"7cc25281-0"},on:{touchstart:function(e){t.buttonReq(e)}}}),o("image",{staticClass:"button2",attrs:{src:"../../static/policpage/button2.png",id:"b2",eventid:"7cc25281-1"},on:{touchstart:function(e){t.buttonReq(e)}}})],1)},i=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return i})},e7d0:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:{locationtype:"gcj02",longitude:102.847785,latitude:24.833456,button_type:0,covers:[{longitude:0,latitude:0,iconPath:"../../static/location@3x.png"}]},onLoad:function(){t.getLocation({type:this.locationtype,success:function(e){console.log("当前位置的经度："+e.longitude),console.log("当前位置的纬度："+e.latitude),t.setStorageSync("longitude",e.longitude),t.setStorageSync("latitude",e.latitude)}}),this.longitude=t.getStorageSync("longitude"),this.latitude=t.getStorageSync("latitude");var e=t.createMapContext("polmap",this);e.moveToLocation(),this.$set(this.covers,0,Object.assign(this.covers[0],{longitude:t.getStorageSync("longitude"),latitude:t.getStorageSync("latitude")}))},methods:{buttonReq:function(e){var o=this;setTimeout(function(){o.button_type=0},1e3),this.button_type++,t.vibrateLong(),this.button_type>=3&&(t.getLocation({type:this.locationtype,success:function(e){console.log("当前位置的经度："+e.longitude),console.log("当前位置的纬度："+e.latitude),t.setStorageSync("longitude",e.longitude),t.setStorageSync("latitude",e.latitude)}}),t.request({url:"http://148.70.148.17:8080/sos/police",data:{id:t.getStorageSync("ID"),location:t.getStorageSync("longitude")+"#"+t.getStorageSync("latitude"),stuname:t.getStorageSync("username"),stutel:t.getStorageSync("telnumber"),illog:"药物过敏史："+this.allergy+"#常用药："+this.medication+"#疾病史："+this.illog}}),"b2"==e.currentTarget.id&&t.makePhoneCall({phoneNumber:t.getStorageSync("pol_tel")}),this.button_type=0)}},onPullDownRefresh:function(){t.getLocation({type:this.locationtype,success:function(e){t.setStorageSync("longitude",e.longitude),t.setStorageSync("latitude",e.latitude)}}),this.longitude=t.getStorageSync("longitude"),this.latitude=t.getStorageSync("latitude");var e=t.createMapContext("polmap",this);e.moveToLocation(),this.$set(this.covers,0,Object.assign(this.covers[0],{longitude:t.getStorageSync("longitude"),latitude:t.getStorageSync("latitude")})),t.stopPullDownRefresh()}};e.default=o}).call(this,o("6e42")["default"])},ec6f:function(t,e,o){"use strict";o("df96");var n=a(o("b0ce")),i=a(o("d065"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(i.default))}},[["ec6f","common/runtime","common/vendor"]]]);